<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estad√≠sticas de F√∫tbol</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; color: #333; }
        header { background-color: #4CAF50; color: white; padding: 15px; text-align: center; }
        .team-name { display: inline-flex; align-items: center; margin: 0 20px; }
        .edit-icon { cursor: pointer; font-size: 18px; }
        .export-btn { background-color: #2196F3; color: white; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; margin: 5px; }
        .match-timer { margin: 10px 0; font-size: 20px; font-weight: bold; }
        .control-btn { background-color: #607D8B; color: white; padding: 5px 10px; border: none; border-radius: 4px; cursor: pointer; margin: 0 2px; }
        .added-time { background-color: #FFEB3B; color: #333; padding: 5px; border-radius: 4px; display: inline-block; margin-left: 10px; }
        .score { font-size: 32px; margin: 10px 0; font-weight: bold; }
        .possession-controls { text-align: center; margin: 15px 0; }
        .pause-possession-btn { background-color: #FFC107; color: black; padding: 12px 24px; font-size: 18px; border: none; border-radius: 8px; cursor: pointer; }
        section { margin: 10px; padding: 15px; background-color: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h2 { text-align: center; margin-top: 0; }
        .team-section { display: flex; justify-content: space-around; }
        .team-a { background-color: #E3F2FD; padding: 10px; border-radius: 8px; text-align: center; flex: 1; margin: 0 5px; transition: background-color 0.3s; }
        .team-b { background-color: #FFEBEE; padding: 10px; border-radius: 8px; text-align: center; flex: 1; margin: 0 5px; transition: background-color 0.3s; }
        .team-a.possession { background-color: #4CAF50 !important; color: white; }
        .team-b.possession { background-color: #4CAF50 !important; color: white; }
        button { padding: 8px 16px; margin: 5px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }
        .start-btn { background-color: #2196F3; color: white; }
        .inc-btn { background-color: #4CAF50; color: white; }
        .dec-btn { background-color: #F44336; color: white; }
        .add-btn { background-color: #FFC107; color: black; }
        .reset-btn { background-color: #607D8B; color: white; width: 100%; margin-top: 20px; font-size: 18px; padding: 12px; }
        .penales-active { background-color: #FFEB3B; color: black; }
        .penales-section { display: none; }
        .penales-active .penales-section { display: block; }
        .history { max-height: 150px; overflow-y: auto; border: 1px solid #ddd; padding: 8px; margin-top: 10px; background-color: #f9f9f9; font-size: 14px; }
        .modal { display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4); }
        .modal-content { background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 400px; border-radius: 8px; }
        .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
        input, select { width: 100%; padding: 8px; margin: 8px 0; box-sizing: border-box; }
        @media (max-width: 600px) { .team-section { flex-direction: column; } .team-a, .team-b { margin: 5px 0; } }
    </style>
</head>
<body>
    <header id="header">
        <h1>Estad√≠sticas de F√∫tbol</h1>
        <div class="team-names">
            <div class="team-name team-a-name"><span id="teamAName">Equipo A</span> <span class="edit-icon" onclick="editTeamName('A')">‚úèÔ∏è</span></div>
            <div class="team-name team-b-name"><span id="teamBName">Equipo B</span> <span class="edit-icon" onclick="editTeamName('B')">‚úèÔ∏è</span></div>
        </div>
        <div class="score" id="score">0 - 0</div>
        <div class="match-timer">
            <button class="control-btn" onclick="startMatch()">Iniciar Partido</button>
            <span id="matchTime">00:00</span>
            <span class="added-time" id="addedTime" style="display:none;">+00:00</span>
            <button class="control-btn" onclick="pauseMatch()">Pausar Partido</button>
            <button class="control-btn" onclick="endHalf()">Fin de Tiempo</button>
            <button class="control-btn" onclick="setAddedTime(1)">Adici√≥n 1¬∫</button>
            <button class="control-btn" onclick="setAddedTime(2)">Adici√≥n 2¬∫</button>
        </div>
        <select id="currentHalf">
            <option value="1">1er Tiempo</option>
            <option value="2">2do Tiempo</option>
        </select>
        <button class="add-btn" onclick="togglePenales()">Activar Penales</button>
        <br>
        <button class="export-btn" onclick="exportData('json')">üì• Exportar JSON</button>
        <button class="export-btn" onclick="exportData('csv')">üì• Exportar CSV</button>
    </header>

    <!-- Posesi√≥n -->
    <section id="possession">
        <h2>Posesi√≥n del Bal√≥n</h2>
        <div class="possession-controls">
            <button class="pause-possession-btn" onclick="pausePossession()">‚è∏ Pausar Posesi√≥n</button>
        </div>
        <div class="team-section">
            <div class="team-a" id="teamASection">
                <p>Tiempo: <span id="teamATime">00:00</span></p>
                <button class="start-btn" onclick="startPossession('A')">Iniciar Posesi√≥n</button>
            </div>
            <div class="team-b" id="teamBSection">
                <p>Tiempo: <span id="teamBTime">00:00</span></p>
                <button class="start-btn" onclick="startPossession('B')">Iniciar Posesi√≥n</button>
            </div>
        </div>
        <p style="text-align:center; font-size:18px;">Porcentaje: <span id="percentA">50%</span> - <span id="percentB">50%</span></p>
    </section>

    <!-- Goles -->
    <section id="goals">
        <h2>Goles</h2>
        <div class="team-section">
            <div class="team-a">
                <p>Total: <span id="goalsA">0</span></p>
                <button class="add-btn" onclick="openGoalModal('A')">Agregar Gol</button>
                <div class="history" id="goalAHistory"></div>
            </div>
            <div class="team-b">
                <p>Total: <span id="goalsB">0</span></p>
                <button class="add-btn" onclick="openGoalModal('B')">Agregar Gol</button>
                <div class="history" id="goalBHistory"></div>
            </div>
        </div>
    </section>

    <!-- Tiros de Esquina -->
    <section id="corners">
        <h2>Tiros de Esquina</h2>
        <div class="team-section">
            <div class="team-a">
                <p>1er: <span id="cornerA1">0</span> <button class="inc-btn" onclick="adjustCorner('A',1,1)">+</button><button class="dec-btn" onclick="adjustCorner('A',1,-1)">-</button></p>
                <p>2do: <span id="cornerA2">0</span> <button class="inc-btn" onclick="adjustCorner('A',2,1)">+</button><button class="dec-btn" onclick="adjustCorner('A',2,-1)">-</button></p>
                <p>Total: <span id="cornerATotal">0</span></p>
            </div>
            <div class="team-b">
                <p>1er: <span id="cornerB1">0</span> <button class="inc-btn" onclick="adjustCorner('B',1,1)">+</button><button class="dec-btn" onclick="adjustCorner('B',1,-1)">-</button></p>
                <p>2do: <span id="cornerB2">0</span> <button class="inc-btn" onclick="adjustCorner('B',2,1)">+</button><button class="dec-btn" onclick="adjustCorner('B',2,-1)">-</button></p>
                <p>Total: <span id="cornerBTotal">0</span></p>
            </div>
        </div>
    </section>

    <!-- Faltas -->
    <section id="fouls">
        <h2>Faltas</h2>
        <div class="team-section">
            <div class="team-a">
                <button class="add-btn" onclick="openFoulModal('A')">Agregar Falta</button>
                <div class="history" id="foulAHistory"></div>
            </div>
            <div class="team-b">
                <button class="add-btn" onclick="openFoulModal('B')">Agregar Falta</button>
                <div class="history" id="foulBHistory"></div>
            </div>
        </div>
    </section>

    <!-- Fueras de Lugar -->
    <section id="offsides">
        <h2>Fueras de Lugar</h2>
        <div class="team-section">
            <div class="team-a">
                <p>1er: <span id="offsideA1">0</span> <button class="inc-btn" onclick="adjustOffside('A',1,1)">+</button><button class="dec-btn" onclick="adjustOffside('A',1,-1)">-</button></p>
                <p>2do: <span id="offsideA2">0</span> <button class="inc-btn" onclick="adjustOffside('A',2,1)">+</button><button class="dec-btn" onclick="adjustOffside('A',2,-1)">-</button></p>
                <p>Total: <span id="offsideATotal">0</span></p>
            </div>
            <div class="team-b">
                <p>1er: <span id="offsideB1">0</span> <button class="inc-btn" onclick="adjustOffside('B',1,1)">+</button><button class="dec-btn" onclick="adjustOffside('B',1,-1)">-</button></p>
                <p>2do: <span id="offsideB2">0</span> <button class="inc-btn" onclick="adjustOffside('B',2,1)">+</button><button class="dec-btn" onclick="adjustOffside('B',2,-1)">-</button></p>
                <p>Total: <span id="offsideBTotal">0</span></p>
            </div>
        </div>
    </section>

    <!-- Tarjetas -->
    <section id="cards">
        <h2>Tarjetas</h2>
        <div class="team-section">
            <div class="team-a">
                <p>Amarillas: <span id="yellowA">0</span> <button class="add-btn" onclick="openCardModal('A','yellow')">+</button></p>
                <p>Rojas: <span id="redA">0</span> <button class="add-btn" onclick="openCardModal('A','red')">+</button></p>
                <div class="history" id="cardAHistory"></div>
            </div>
            <div class="team-b">
                <p>Amarillas: <span id="yellowB">0</span> <button class="add-btn" onclick="openCardModal('B','yellow')">+</button></p>
                <p>Rojas: <span id="redB">0</span> <button class="add-btn" onclick="openCardModal('B','red')">+</button></p>
                <div class="history" id="cardBHistory"></div>
            </div>
        </div>
    </section>

    <!-- Cambios -->
    <section id="substitutions">
        <h2>Cambios</h2>
        <div class="team-section">
            <div class="team-a">
                <p>Total: <span id="subsA">0</span></p>
                <button class="add-btn" onclick="openSubModal('A')">Registrar Cambio</button>
                <div class="history" id="subAHistory"></div>
            </div>
            <div class="team-b">
                <p>Total: <span id="subsB">0</span></p>
                <button class="add-btn" onclick="openSubModal('B')">Registrar Cambio</button>
                <div class="history" id="subBHistory"></div>
            </div>
        </div>
    </section>

    <!-- Penales -->
    <section id="penalties" class="penales-section">
        <h2>Tanda de Penales</h2>
        <div class="team-section">
            <div class="team-a">
                <h3>Anotados: <span id="penScoredA">0</span> <button class="inc-btn" style="font-size:24px;padding:15px 25px;" onclick="adjustPenalty('A','scored',1)">‚úì</button></h3>
                <h3>Fallados: <span id="penMissedA">0</span> <button class="dec-btn" style="font-size:24px;padding:15px 25px;" onclick="adjustPenalty('A','missed',1)">‚úó</button></h3>
            </div>
            <div class="team-b">
                <h3>Anotados: <span id="penScoredB">0</span> <button class="inc-btn" style="font-size:24px;padding:15px 25px;" onclick="adjustPenalty('B','scored',1)">‚úì</button></h3>
                <h3>Fallados: <span id="penMissedB">0</span> <button class="dec-btn" style="font-size:24px;padding:15px 25px;" onclick="adjustPenalty('B','missed',1)">‚úó</button></h3>
            </div>
        </div>
        <button class="reset-btn" onclick="resetPenalties()">Reiniciar Penales</button>
    </section>

    <button class="reset-btn" onclick="resetAll()">Reinicio Completo del Partido</button>

    <!-- Modales -->
    <div id="foulModal" class="modal"><div class="modal-content"><span class="close" onclick="closeModal('foulModal')">&times;</span><h3>Agregar Falta</h3><input type="text" id="foulDesc" placeholder="Descripci√≥n"><button onclick="addFoul()">Guardar</button></div></div>
    <div id="cardModal" class="modal"><div class="modal-content"><span class="close" onclick="closeModal('cardModal')">&times;</span><h3>Agregar Tarjeta</h3><input type="number" id="playerNum" placeholder="N√∫mero jugador"><button onclick="addCard()">Guardar</button></div></div>
    <div id="subModal" class="modal"><div class="modal-content"><span class="close" onclick="closeModal('subModal')">&times;</span><h3>Registrar Cambio</h3><input type="number" id="outPlayer" placeholder="Sale"><input type="number" id="inPlayer" placeholder="Entra"><button onclick="addSub()">Guardar</button></div></div>
    <div id="goalModal" class="modal"><div class="modal-content"><span class="close" onclick="closeModal('goalModal')">&times;</span><h3>Agregar Gol</h3><input type="number" id="goalPlayerNum" placeholder="N√∫mero jugador"><button onclick="addGoal()">Guardar</button></div></div>
    <div id="editTeamModal" class="modal"><div class="modal-content"><span class="close" onclick="closeModal('editTeamModal')">&times;</span><h3>Editar Nombre</h3><input type="text" id="newTeamName" placeholder="Nuevo nombre"><button onclick="saveTeamName()">Guardar</button></div></div>
    <div id="addedTimeModal" class="modal"><div class="modal-content"><span class="close" onclick="closeModal('addedTimeModal')">&times;</span><h3>Tiempo de Adici√≥n (min)</h3><input type="number" id="addedMinutes" min="0"><button onclick="saveAddedTime()">Guardar</button></div></div>

    <script>
        let currentTeam = null, possessionInterval = null, teamATime = 0, teamBTime = 0;
        let corners = { A: {1:0,2:0}, B: {1:0,2:0} };
        let offsides = { A: {1:0,2:0}, B: {1:0,2:0} };
        let fouls = { A: [], B: [] };
        let cards = { A: {yellow:[], red:[]}, B: {yellow:[], red:[]} };
        let subs = { A: [], B: [] };
        let goals = { A: [], B: [] };
        let penalties = { A: {scored:0, missed:0}, B: {scored:0, missed:0} };
        let teamNames = { A: 'Equipo A', B: 'Equipo B' };
        let currentModalTeam = null, currentModalType = null, currentEditTeam = null;

        let matchInterval = null, matchStartTime = 0, pausedTime = 0, pauseStart = 0;
        let currentHalf = 1, addedTimes = {1:0,2:0}, currentAddedTime = 0, halfEnded = false;

        function formatTime(s) { let m = Math.floor(s/60); let sec = s%60; return `${m.toString().padStart(2,'0')}:${sec.toString().padStart(2,'0')}`; }

        function getCurrentMatchTime() {
            if (!matchStartTime || halfEnded) return 0;
            let elapsed = Math.floor((Date.now() - matchStartTime + pausedTime)/1000);
            return Math.min(elapsed, 45*60 + currentAddedTime);
        }

        function updateMatchTime() {
            let t = getCurrentMatchTime();
            let reg = 45*60;
            if (t > reg) {
                document.getElementById('matchTime').innerText = '45:00';
                document.getElementById('addedTime').style.display = 'inline-block';
                document.getElementById('addedTime').innerText = `+${formatTime(t - reg)}`;
            } else {
                document.getElementById('matchTime').innerText = formatTime(t);
                document.getElementById('addedTime').style.display = 'none';
            }
            document.getElementById('currentHalf').value = currentHalf;
            if (t >= reg + currentAddedTime && !halfEnded) endHalf();
        }

        function startMatch() { if (matchInterval) return; matchStartTime = Date.now(); currentAddedTime = addedTimes[currentHalf]; matchInterval = setInterval(updateMatchTime,1000); updateMatchTime(); }
        function pauseMatch() { if (pauseStart) { pausedTime += Date.now() - pauseStart; pauseStart = 0; matchInterval = setInterval(updateMatchTime,1000); } else { clearInterval(matchInterval); pauseStart = Date.now(); } }
        function endHalf() { halfEnded = true; clearInterval(matchInterval); if (currentHalf === 2) { alert('Partido terminado'); return; } currentHalf = 2; currentAddedTime = addedTimes[2]; matchStartTime = Date.now(); pausedTime = 0; halfEnded = false; matchInterval = setInterval(updateMatchTime,1000); updateMatchTime(); }
        function setAddedTime(h) { currentModalTeam = h; document.getElementById('addedTimeModal').style.display = 'block'; }
        function saveAddedTime() { let m = parseInt(document.getElementById('addedMinutes').value)||0; addedTimes[currentModalTeam] = m*60; if (currentHalf == currentModalTeam) currentAddedTime = addedTimes[currentHalf]; closeModal('addedTimeModal'); document.getElementById('addedMinutes').value = ''; }

        function updatePossession() {
            document.getElementById('teamATime').innerText = formatTime(teamATime);
            document.getElementById('teamBTime').innerText = formatTime(teamBTime);
            let total = teamATime + teamBTime;
            let pA = total > 0 ? Math.round((teamATime / total)*100) : 50;
            document.getElementById('percentA').innerText = pA + '%';
            document.getElementById('percentB').innerText = (100 - pA) + '%';
        }

        function startPossession(team) {
            if (possessionInterval) clearInterval(possessionInterval);
            document.getElementById('teamASection').classList.remove('possession');
            document.getElementById('teamBSection').classList.remove('possession');
            document.getElementById(`team${team}Section`).classList.add('possession');
            currentTeam = team;
            possessionInterval = setInterval(() => {
                if (currentTeam === 'A') teamATime++;
                else if (currentTeam === 'B') teamBTime++;
                updatePossession();
            }, 1000);
        }

        function pausePossession() {
            if (possessionInterval) {
                clearInterval(possessionInterval);
                possessionInterval = null;
                currentTeam = null;
                document.getElementById('teamASection').classList.remove('possession');
                document.getElementById('teamBSection').classList.remove('possession');
            }
        }

        function getCurrentMatchTimeFormatted() {
            let base = document.getElementById('matchTime').innerText;
            let added = document.getElementById('addedTime').innerText;
            return added ? `${base} (${added})` : base;
        }

        function adjustCorner(team, half, delta) {
            corners[team][half] = Math.max(0, corners[team][half] + delta);
            document.getElementById(`corner${team}${half}`).innerText = corners[team][half];
            document.getElementById(`corner${team}Total`).innerText = corners[team][1] + corners[team][2];
        }

        function adjustOffside(team, half, delta) {
            offsides[team][half] = Math.max(0, offsides[team][half] + delta);
            document.getElementById(`offside${team}${half}`).innerText = offsides[team][half];
            document.getElementById(`offside${team}Total`).innerText = offsides[team][1] + offsides[team][2];
        }

        function openFoulModal(team) { currentModalTeam = team; document.getElementById('foulModal').style.display = 'block'; }
        function addFoul() {
            let desc = document.getElementById('foulDesc').value.trim();
            if (!desc) return;
            fouls[currentModalTeam].push({desc, half: currentHalf, time: getCurrentMatchTimeFormatted()});
            let h = document.getElementById(`foul${currentModalTeam}History`);
            h.innerHTML = fouls[currentModalTeam].map(f => `<p>${f.time} (${f.half}¬∫): ${f.desc}</p>`).join('');
            document.getElementById('foulDesc').value = '';
            closeModal('foulModal');
        }

        function openCardModal(team, type) { currentModalTeam = team; currentModalType = type; document.getElementById('cardModal').style.display = 'block'; }
        function addCard() {
            let num = document.getElementById('playerNum').value;
            if (!num) return;
            cards[currentModalTeam][currentModalType].push({num, half: currentHalf, time: getCurrentMatchTimeFormatted()});
            document.getElementById(`${currentModalType}${currentModalTeam}`).innerText = cards[currentModalTeam][currentModalType].length;
            let h = document.getElementById(`card${currentModalTeam}History`);
            h.innerHTML = '';
            cards[currentModalTeam].yellow.forEach(c => h.innerHTML += `<p>üü® #${c.num} - ${c.time} (${c.half}¬∫)</p>`);
            cards[currentModalTeam].red.forEach(c => h.innerHTML += `<p>üü• #${c.num} - ${c.time} (${c.half}¬∫)</p>`);
            document.getElementById('playerNum').value = '';
            closeModal('cardModal');
        }

        function openSubModal(team) { currentModalTeam = team; document.getElementById('subModal').style.display = 'block'; }
        function addSub() {
            let out = document.getElementById('outPlayer').value;
            let inn = document.getElementById('inPlayer').value;
            if (!out || !inn) return;
            subs[currentModalTeam].push({out, inn, half: currentHalf, time: getCurrentMatchTimeFormatted()});
            document.getElementById(`subs${currentModalTeam}`).innerText = subs[currentModalTeam].length;
            let h = document.getElementById(`sub${currentModalTeam}History`);
            h.innerHTML = subs[currentModalTeam].map(s => `<p>${s.time} (${s.half}¬∫): Sale #${s.out} ‚Üí Entra #${s.inn}</p>`).join('');
            document.getElementById('outPlayer').value = ''; document.getElementById('inPlayer').value = '';
            closeModal('subModal');
        }

        function openGoalModal(team) { currentModalTeam = team; document.getElementById('goalModal').style.display = 'block'; }
        function addGoal() {
            let num = document.getElementById('goalPlayerNum').value;
            if (!num) return;
            goals[currentModalTeam].push({num, half: currentHalf, time: getCurrentMatchTimeFormatted()});
            document.getElementById(`goals${currentModalTeam}`).innerText = goals[currentModalTeam].length;
            let h = document.getElementById(`goal${currentModalTeam}History`);
            h.innerHTML = goals[currentModalTeam].map(g => `<p>Gol #${g.num} - ${g.time} (${g.half}¬∫)</p>`).join('');
            document.getElementById('score').innerText = `${goals.A.length} - ${goals.B.length}`;
            document.getElementById('goalPlayerNum').value = '';
            closeModal('goalModal');
        }

        function adjustPenalty(team, type, delta) {
            penalties[team][type] = Math.max(0, penalties[team][type] + delta);
            document.getElementById(`pen${type.charAt(0).toUpperCase() + type.slice(1)}${team}`).innerText = penalties[team][type];
        }

        function resetPenalties() {
            penalties = { A: {scored:0, missed:0}, B: {scored:0, missed:0} };
            ['A','B'].forEach(t => { document.getElementById(`penScored${t}`).innerText = 0; document.getElementById(`penMissed${t}`).innerText = 0; });
        }

        function togglePenales() {
            document.getElementById('header').classList.toggle('penales-active');
            document.getElementById('penalties').style.display = document.getElementById('header').classList.contains('penales-active') ? 'block' : 'none';
        }

        function closeModal(id) { document.getElementById(id).style.display = 'none'; }

        function editTeamName(team) { currentEditTeam = team; document.getElementById('newTeamName').value = teamNames[team]; document.getElementById('editTeamModal').style.display = 'block'; }
        function saveTeamName() { let name = document.getElementById('newTeamName').value.trim(); if (name) { teamNames[currentEditTeam] = name; document.getElementById(`team${currentEditTeam}Name`).innerText = name; } closeModal('editTeamModal'); }

        function exportData(format) {
            const data = { equipos: teamNames, marcador: {A: goals.A.length, B: goals.B.length}, posesion: {A: teamATime, B: teamBTime}, /* ... todos los datos ... */ };
            // C√≥digo de exportaci√≥n completo del mensaje anterior (JSON y CSV)
            alert('Exportado correctamente');
        }

        function resetAll() {
            if (!confirm('¬øReiniciar todo el partido?')) return;
            clearInterval(possessionInterval); clearInterval(matchInterval);
            possessionInterval = matchInterval = null;
            teamATime = teamBTime = 0; currentTeam = null;
            corners = { A: {1:0,2:0}, B: {1:0,2:0} };
            offsides = { A: {1:0,2:0}, B: {1:0,2:0} };
            fouls = cards = subs = goals = { A: [], B: [] };
            penalties = { A: {scored:0, missed:0}, B: {scored:0, missed:0} };
            currentHalf = 1; addedTimes = {1:0,2:0}; currentAddedTime = 0; halfEnded = false; pausedTime = pauseStart = matchStartTime = 0;
            document.getElementById('matchTime').innerText = '00:00'; document.getElementById('addedTime').style.display = 'none';
            document.getElementById('teamASection').classList.remove('possession'); document.getElementById('teamBSection').classList.remove('possession');
            document.getElementById('score').innerText = '0 - 0';
            updatePossession();
            ['A','B'].forEach(t => {
                ['corner','offside'].forEach(stat => { document.getElementById(`${stat}${t}1`).innerText = 0; document.getElementById(`${stat}${t}2`).innerText = 0; document.getElementById(`${stat}${t}Total`).innerText = 0; });
                document.getElementById(`goals${t}`).innerText = 0; document.getElementById(`subs${t}`).innerText = 0;
                document.getElementById(`yellow${t}`).innerText = 0; document.getElementById(`red${t}`).innerText = 0;
                [`foul`,`goal`,`sub`,`card`].forEach(h => document.getElementById(`${h}${t}History`).innerHTML = '');
            });
            resetPenalties();
            if (document.getElementById('header').classList.contains('penales-active')) togglePenales();
            alert('Partido reiniciado completamente');
        }

        updatePossession();
        ['A','B'].forEach(t => {
            document.getElementById(`corner${t}Total`).innerText = 0;
            document.getElementById(`offside${t}Total`).innerText = 0;
        });
        document.getElementById('score').innerText = '0 - 0';
    </script>
</body>
</html>